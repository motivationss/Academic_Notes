\chapter{Epilogue}
There are some final remarks we would like to make.
\lecture{39}{13 Apr. 10:00}{Proof of \hyperref[thm:Seifert-Van-Kampen-Theorem]{Seifert-Van-Kampen Theorem}}
\section{Proof of Seifert-Van-Kampen Theorem}
Let's start to prove \autoref{thm:Seifert-Van-Kampen-Theorem} which we omit before.
\begin{proof}[Proof of \autoref{thm:Seifert-Van-Kampen-Theorem}]\label{pf:thm:Seifert-Van-Kampen-Theorem}
	The outline of the proof is the following. Let \(X = \bigcup_{\alpha}A_\alpha \) where \(A_\alpha \) are open, \hyperref[def:path]{path}-connected
	and contain the glue-point \(x_0\). We also must guarantee that \(A_\alpha \cap A_\beta \) is \hyperref[def:path]{path}-connected.

	\begin{enumerate}
		\item Since we have a map induced by the inclusions
		      \[
			      \Phi \colon \underset{\alpha}{\ast} \pi _1(A_\alpha , x_0)\to \pi _1(X, x_0).
		      \]
		      We want to show that \(\Phi \) is surjective. Take some \(\gamma \colon I\to X\), then by the compactness of the interval \(I\), we can
		      show that there is a partition \(I\) with \(s_1<\ldots <s_n \) so that
		      \[
			      \at{\gamma }{s_{i}, s_{i+1}}{} \eqqcolon \gamma _{i}
		      \]
		      has image in \(A_{\alpha_{i}}\) for some \(\alpha _{i}\).

		      \begin{exercise}
			      Showing the above fact is a good exercise for point-set topology.
		      \end{exercise}

		      Specifically, since
		      \begin{itemize}
			      \item \(A_{\alpha }\) is open for all \(\alpha \)
			      \item \(I\) is compact,
		      \end{itemize}
		      then for all \(i\), we choose a \hyperref[def:path]{path} \(h_{i}\) from \(x_0\) to \(\gamma (s_{i})\) in \(A_{\sigma _{i-1}}\cap A_{\alpha _{i}}\), using
		      \hyperref[def:path]{path}-connectedness of the pairwise intersections. Now, take \(\gamma \) and write it as
		      \[
			      \gamma = (\gamma _1\cdot \overline{h} _1)\cdot (\overline{h} _1\cdot \gamma _2)\cdot \ldots \cdot (\gamma_{n-1}\cdot \overline{h} _{n-1}) \cdot (h_{n-1}\cdot \gamma _n).
		      \]
		      Observe that each of these \hyperref[def:path]{paths} is fully contained in \(A_{\alpha _{i}}\), so this implies that \(\gamma \in \im  (\Phi )\), therefore
		      \(\Phi \) is surjective.
		\item For the next step, we'll show that the second part of \autoref{thm:Seifert-Van-Kampen-Theorem}. Assume that our triple intersections are \hyperref[def:path]{path}-connected.
		      We want to show that \(\ker (\Phi ) \) is generated by
		      \[
			      (i_{\alpha \beta })_\ast (\omega )(i_{\beta \alpha })_\ast (\omega )^{-1},
		      \]
		      where \(i_{\alpha \beta }\colon A_\alpha \cap A_\beta \hookrightarrow A_\alpha\) for all loops \(\omega \in\pi_1(A_\alpha \cap A_\beta , x_0)\).

		      Before we go further, we'll need a specific definition.
		      \begin{definition}[Factorization]\label{def:factorization}
			      A \emph{factorization} of a \hyperref[def:homotopy]{homotopy} class \([f]\in \pi _1(X, x_{0})\) is a formal product
			      \[
				      [f_1][f_2]\ldots [f_{\ell }]
			      \]
			      with \([f_{i}]\in \pi _1(A_\alpha , x_0)\) such that
			      \[
				      f\simeq f_1\cdot f_2\cdot\ldots \cdot f_{\ell}.
			      \]
		      \end{definition}
		      We showed that every \([f]\) has a \hyperref[def:factorization]{factorization} in step \(1\) already. Now we want to show that
		      two \hyperref[def:factorization]{factorizations}
		      \[
			      [f_{1}]\cdot \ldots \cdot[f_{\ell }] \text{ and } [f_{1} ^\prime ]\cdot \ldots \cdot[f_{\ell ^\prime } ^\prime ]
		      \]
		      of \([f]\) must be related by two moves:
		      \begin{enumerate}[(1)]
			      \item \([f_{i}]\cdot[f_{i+1}] = [f_{i}\cdot f_{i+1}]\) if \([f_{i}], [f_{i+1}]\in \pi _1(A_\alpha , x_0)\). Namely, the reaction
			            defining the \hyperref[def:free-product-with-amalgamation]{free product} of groups.
			      \item \([f_{i}]\) can be viewed as an element of \(\pi _1(A_\alpha , x_{0})\) or \(\pi _1(A_\beta , x_0)\) whenever
			            \[
				            [f_{i}]\in \pi _1(A_\alpha \cap A_\beta , x_{0}).
			            \]
			            This is the relation defining the \hyperref[def:free-product-with-amalgamation]{amalgamated free product}.
		      \end{enumerate}
		      Now, let \(F_{t}\colon I\times I\to X\) be a \hyperref[def:homotopy]{homotopy} from \(f_1 \ldots f_{\ell } \) to
		      \(f_1 ^\prime \ldots f ^\prime _{\ell ^\prime } \), since they both represent \([f]\). We subdivide \(I\times I\) into
		      rectangles \(R_{ij}\) so that
		      \[
			      F(R_{ij})\subseteq A_{\alpha _{ij}}\eqqcolon A_{ij}
		      \]
		      for some \(\alpha _{ij}\) using compactness. We also argue that we can perturb the corners of the squares so that a corner
		      lies only in three of the \(A_\alpha \)'s indexed by adjacent rectangles.
		      \begin{figure}[H]
			      \centering
			      \incfig{pf:Seifert-Van-Kampen-thm-1}
			      \label{fig:pf:Seifert-Van-Kampen-thm-1}
		      \end{figure}
		      We also argue that we can set up our subdivision so that the partition of the top and bottom intervals must correspond with the
		      two \hyperref[def:factorization]{factorizations} of \([f]\). We then perform our \hyperref[def:homotopy]{homotopy} one
		      rectangle at a time.
		      \begin{figure}[H]
			      \centering
			      \incfig{pf:Seifert-Van-Kampen-thm-2}
			      \label{fig:pf:Seifert-Van-Kampen-thm-2}
		      \end{figure}
		      \paragraph{Idea:} Argue that \hyperref[def:homotopy]{homotoping} over a single rectangle has the effect of using allowable moves
		      to modify the \hyperref[def:factorization]{factorization}.

		      \par  At each triple intersection, choose a \hyperref[def:path]{path} from \(f\) (corner) to \(x_0\) which lies in the triple intersection,
		      so we use the assumption that the triple intersections are \hyperref[def:path]{path}-connected.
		      \begin{figure}[H]
			      \centering
			      \incfig{pf:Seifert-Van-Kampen-thm-3}
			      \label{fig:pf:Seifert-Van-Kampen-thm-3}
		      \end{figure}
		      Along the top and bottom, we make choices compatible with the two \hyperref[def:factorization]{factorizations}. It's now an exercise to
		      check that these choices result in \hyperref[def:homotopy]{homotoping} across a rectangle gives a new \hyperref[def:factorization]{factorization}
		      related by an allowable move.
	\end{enumerate}
\end{proof}

